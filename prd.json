{
  "branchName": "ralph/feature",
  "userStories": [
    {
      "id": "US-002",
      "title": "Repository setup with Go module and GitHub Actions",
      "description": "Create the basic repository structure with go.mod (module github.com/kylemclaren/spritesync), a minimal main.go stub with version flag support, and copy the release.yml GitHub Actions workflow from /home/sprite/spritedrop adapted for spritesync",
      "acceptanceCriteria": [
        "go.mod exists with correct module name",
        "main.go has --version flag that prints version",
        ".github/workflows/release.yml builds for linux/darwin amd64/arm64"
      ],
      "priority": 2,
      "passes": true
    },
    {
      "id": "US-003",
      "title": "Install script with Syncthing and Tailscale setup",
      "description": "Create install.sh that installs Syncthing (via apt repo on Linux), ensures Tailscale is installed, configures Syncthing to bind only to Tailscale IP (100.x.x.x:22000), disables global/local discovery and relays, sets up services (sprite-env or systemd), and installs the Claude Code skill. Reference /home/sprite/spritedrop/install.sh for patterns.",
      "acceptanceCriteria": [
        "install.sh installs syncthing if not present",
        "Syncthing configured to listen only on Tailscale IP for sync port 22000",
        "Global discovery, local discovery, and relays are disabled",
        "Service created with dependency on tailscaled",
        "Claude Code skill installed to ~/.claude/skills/spritesync/"
      ],
      "priority": 3,
      "passes": true
    },
    {
      "id": "US-004",
      "title": "Core CLI commands: init, info, status",
      "description": "Implement the core spritesync CLI commands. 'init' generates config and stores API key in ~/.config/spritesync/. 'info' shows this device's Syncthing device ID and Tailscale hostname. 'status' queries Syncthing REST API at 127.0.0.1:8384 for folder sync status. Support --json flag for status command.",
      "acceptanceCriteria": [
        "spritesync init creates ~/.config/spritesync/apikey",
        "spritesync info shows device ID and tailscale hostname",
        "spritesync status shows folder sync status",
        "spritesync status --json outputs JSON format"
      ],
      "priority": 4,
      "passes": true
    },
    {
      "id": "US-005",
      "title": "Device pairing via Taildrop",
      "description": "Implement 'spritesync pair <target-device>' that exchanges Syncthing device IDs via Taildrop. Write own device ID to temp file, send via 'tailscale file cp', receive partner's ID, add both devices to Syncthing config with autoAcceptFolders enabled. Also implement 'spritesync devices' to list paired devices.",
      "acceptanceCriteria": [
        "spritesync pair <device> exchanges device IDs via taildrop",
        "Paired devices are added to Syncthing with autoAcceptFolders=true",
        "spritesync devices lists all paired devices"
      ],
      "priority": 5,
      "passes": false
    },
    {
      "id": "US-006",
      "title": "Folder sync commands: sync and unsync",
      "description": "Implement 'spritesync sync <directory> <device>' that creates a shared folder in Syncthing between this device and the target. Generate deterministic folder IDs from path+hostname for reconnects. Implement 'spritesync unsync <directory>' to remove a folder from sync.",
      "acceptanceCriteria": [
        "spritesync sync ~/test device-b creates shared folder in Syncthing",
        "Folder ID is deterministic (same dir+device always gets same ID)",
        "spritesync unsync removes the folder from Syncthing config"
      ],
      "priority": 6,
      "passes": false
    },
    {
      "id": "US-007",
      "title": "README documentation",
      "description": "Create README.md with quick install command, feature overview, usage examples (pairing two Sprites, syncing directories), CLI reference for all commands, and build from source instructions. Reference /home/sprite/spritedrop/README.md for style.",
      "acceptanceCriteria": [
        "README has curl install one-liner",
        "README documents all CLI commands with examples",
        "README shows complete workflow example"
      ],
      "priority": 7,
      "passes": false
    }
  ]
}
